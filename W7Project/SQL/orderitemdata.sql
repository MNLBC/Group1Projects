--------------------------------------------------------
--  File created - Friday-July-29-2016   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table ORDERITEMS
--------------------------------------------------------

  CREATE TABLE "GROUP1"."ORDERITEMS" 
   (	"ID" NUMBER(15,0), 
	"ORDER_ID" NUMBER(15,0), 
	"MEAL_ID" NUMBER(15,0), 
	"QUANTITY" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "WEEK5_PROJECT" ;
REM INSERTING into GROUP1.ORDERITEMS
SET DEFINE OFF;
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100081,100099,100002,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100090,100106,100001,6);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100096,100109,100007,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100095,100109,100001,2);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100138,100148,100001,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100139,100149,100001,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100140,100150,100004,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100141,100151,100004,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100143,100151,100001,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100142,100151,100006,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100144,100152,100004,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100146,100152,100001,20);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100145,100152,100006,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100147,100153,100016,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100149,100154,100016,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100151,100154,100004,2);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100072,100092,100002,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100073,100092,100001,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100079,100097,100008,3);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100080,100098,100009,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100082,100100,100004,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100083,100101,100004,5);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100084,100102,100006,5);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100085,100103,100006,4);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100088,100105,100001,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100089,100105,100007,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100094,100108,100002,3);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100097,100110,100001,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100098,100111,100001,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100100,100114,100001,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100152,100155,100013,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100165,100165,100004,6);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100077,100095,100008,3);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100078,100096,100008,2);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100092,100107,100001,2);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100091,100107,100004,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100093,100107,100002,222);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100122,100141,100004,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100121,100141,100001,5);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100123,100142,100001,5);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100124,100142,100004,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100125,100143,100001,5);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100126,100143,100004,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100134,100146,100001,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100161,100161,100001,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100066,100087,100001,2);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100067,100088,100002,2);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100068,100089,100001,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100069,100090,100002,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100070,100090,100004,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100071,100091,100001,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100076,100094,100001,4);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100086,100104,100001,4);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100087,100104,100004,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100101,100115,100001,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100103,100118,100001,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100171,100171,100001,2);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100128,100144,100002,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100127,100144,100004,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100129,100144,100006,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100131,100145,100002,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100130,100145,100004,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100132,100145,100006,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100163,100163,100001,1);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100164,100164,100008,5);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100168,100168,100001,2);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100170,100170,100001,6);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100074,100093,100001,12);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100075,100093,100002,5);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100172,100172,100002,5);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100157,100159,100001,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100159,100160,100001,10);
Insert into GROUP1.ORDERITEMS (ID,ORDER_ID,MEAL_ID,QUANTITY) values (100169,100169,100002,1);
--------------------------------------------------------
--  DDL for Index SYS_C007372
--------------------------------------------------------

  CREATE UNIQUE INDEX "GROUP1"."SYS_C007372" ON "GROUP1"."ORDERITEMS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "WEEK5_PROJECT" ;
--------------------------------------------------------
--  Constraints for Table ORDERITEMS
--------------------------------------------------------

  ALTER TABLE "GROUP1"."ORDERITEMS" ADD CONSTRAINT "PK_ORDERITEM_ID" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "WEEK5_PROJECT"  ENABLE;
  ALTER TABLE "GROUP1"."ORDERITEMS" MODIFY ("QUANTITY" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."ORDERITEMS" MODIFY ("MEAL_ID" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."ORDERITEMS" MODIFY ("ORDER_ID" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."ORDERITEMS" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table ORDERITEMS
--------------------------------------------------------

  ALTER TABLE "GROUP1"."ORDERITEMS" ADD CONSTRAINT "FK_MEAL_ID" FOREIGN KEY ("MEAL_ID")
	  REFERENCES "GROUP1"."MEAL" ("ID") ENABLE;
  ALTER TABLE "GROUP1"."ORDERITEMS" ADD CONSTRAINT "FK_ORDER_ID" FOREIGN KEY ("ORDER_ID")
	  REFERENCES "GROUP1"."ORDERS" ("ID") ENABLE;
--------------------------------------------------------
--  DDL for Trigger ORDERITEM_ID_TRIG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "GROUP1"."ORDERITEM_ID_TRIG" 
BEFORE INSERT ON ORDERITEMS
FOR EACH ROW
BEGIN
IF :NEW.ID IS NULL THEN
SELECT ORDERITEMS_ID_SEQ.nextval INTO :NEW.ID FROM DUAL;
END IF;
END;
/
ALTER TRIGGER "GROUP1"."ORDERITEM_ID_TRIG" ENABLE;
