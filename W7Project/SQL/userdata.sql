--------------------------------------------------------
--  File created - Friday-July-29-2016   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table USERS
--------------------------------------------------------

  CREATE TABLE "GROUP1"."USERS" 
   (	"ID" NUMBER(15,0), 
	"USERNAME" VARCHAR2(40 BYTE), 
	"PASSWORD" VARCHAR2(100 BYTE), 
	"FIRSTNAME" VARCHAR2(60 BYTE), 
	"MIDDLENAME" VARCHAR2(60 BYTE), 
	"LASTNAME" VARCHAR2(60 BYTE), 
	"GENDER" VARCHAR2(60 BYTE), 
	"EMAIL" VARCHAR2(100 BYTE), 
	"ADDRESS" VARCHAR2(200 BYTE), 
	"CONTACTS" VARCHAR2(15 BYTE), 
	"IS_DISABLED" NUMBER(1,0) DEFAULT 0, 
	"TYPE" VARCHAR2(10 BYTE) DEFAULT 0, 
	"USER_LEVEL" NUMBER(1,0) DEFAULT 0, 
	"POINTS" NUMBER(38,0) DEFAULT 0
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "WEEK5_PROJECT" ;
REM INSERTING into GROUP1.USERS
SET DEFINE OFF;
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100001,'admin','d8578edf8458ce06fbc5bb76a58c5ca4','Peter','Visda','Barredo','MALE','pvbarredo@gmail.com','greenheights village','09123456789',0,'admin',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100002,'peterbarredo','a693dfbdc4216a14ef559cc59a564bba','Johns','Suezo','Anthis','MALE','pedropenduks@gmail.com','Taguig City','09987654321',0,'admin',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100044,'randy1','5f4dcc3b5aa765d61d8327deb882cf99','asdfa','fhash','ADLFHAL','MALE','TEST@OOCL.COM','DHFSDJHF','6789',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100045,'rehaname1111','5f4dcc3b5aa765d61d8327deb882cf99','rehaname1111','rehaname1111','rehaname1111','MALE','aaaaa@a.co','rehaname1111','rehaname1111',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100046,'andesma1','f970e2767d0cfe75876ea857f92e319b','as','as','as','MALE','andes@gmail.com','as','1242',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100047,'jjtero2','d8578edf8458ce06fbc5bb76a58c5ca4','Emmanuel','Blast','Tero','MALE','jjtero2@gmail.com','Makati','987452846',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100048,'jjtero3','6da67f372bf653b8685d779239df750a','Emmanuel','Blast','Tero','MALE','jjtero3@gmail.com','Quezon','7854156',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100080,'username','5f4dcc3b5aa765d61d8327deb882cf99','firstname','middlename','lastname','MALE','sample@email.com','address','09123456789',0,'customer',0,10);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100082,'testuname','e031be0410cf0712d4d0635383ed3b78','testfname','testmname','testlname','MALE','samples@email.com','testaddress','123456789',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100029,'jjtero','d8578edf8458ce06fbc5bb76a58c5ca4','Emmanuel','Blast','Tero','MALE','jjtero@gmail.com','Makati City','09335504839',0,'admin',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100030,'samsunli','5f4dcc3b5aa765d61d8327deb882cf99','Sam','Sam','Li','MALE','samsunli@qq.com','Zhuhai','123090',1,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100031,'andesma','5f4dcc3b5aa765d61d8327deb882cf99','Martirss','Suezo','Pogi','MALE','andesonline@gmail.com','Online St.','00000',0,'customer',1,268);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100036,'limosjo1','5f4dcc3b5aa765d61d8327deb882cf99','asdf','asdf','asdf','MALE','limosjo1@oocl.com','asdf','123123',0,'customer',1,300);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100037,'limosjo2','5f4dcc3b5aa765d61d8327deb882cf99','john paul','malibago','limos','MALE','limosjo2@oocl.com','makati','123123',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100038,'denoyme','d8578edf8458ce06fbc5bb76a58c5ca4','Willy','Wong','Kha','MALE','denoyme@gmail.com','Dito lang','0922818773',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100039,'rehaname','d8578edf8458ce06fbc5bb76a58c5ca4','melvin','brillantes','yu','MALE','tasyo@yahoo.com','qweqwqw','1234567',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100040,'hacker','5f4dcc3b5aa765d61d8327deb882cf99','asdfg',null,'asdfg','MALE','sample@gmail.com','asdfg','123678990',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100041,'rehaname1','5f4dcc3b5aa765d61d8327deb882cf99','aa','aa','aa','MALE','tasyo@j.com','aa','1234',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100042,'qwer','5f4dcc3b5aa765d61d8327deb882cf99','qwer','qwer','qwer','MALE','qwer@a.co','qwer','1234567890',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100043,'escobra','5f4dcc3b5aa765d61d8327deb882cf99','Randy','Giron','Escober','MALE','asample@gmail.com','EdiSa Puso Mo','0000111122221',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100050,'rescober','5a690d842935c51f26f473e025c1b97a','Randy','Giron','Escober','MALE','test@oocl.com','asdasfadfa','567890',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100051,'rio','eabe1cfbab733ea51769b6d0e347de0e','rio','s','tar','MALE','riostar@galaxy.com','galaxy','55555555',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100022,'deleoan','5f4dcc3b5aa765d61d8327deb882cf99','Ana Katrina','Rosas','De leon','FEMALE','anakat@email.com','Laguna','09844528468',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100027,'limosjo','5f4dcc3b5aa765d61d8327deb882cf99','John Paul','Pascual','Limos','MALE','limosjo@oocl.com','makati','09191243765',0,'admin',1,10);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100034,'QWE','5f4dcc3b5aa765d61d8327deb882cf99','QWE','QWE','QWE','MALE','QWEQWE@QWE.COM','QWE','123',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100004,'javaman','a693dfbdc4216a14ef559cc59a564bba','Java','Lurd','Man','MALE','javajava@gmail.com','Pasay City','09268545859',1,'admin',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100028,'racelpa','5f4dcc3b5aa765d61d8327deb882cf99','Pauline Joyce','Veloso','Racelis','FEMALE','pauracelis@gmail.com','Quezon City','09245863258',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100035,'limosjo4','5f4dcc3b5aa765d61d8327deb882cf99','John Paul','Malibago','Limos','MALE','limosjo123@oocl.com','Makati','0919191919',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100049,'rebocse','5a690d842935c51f26f473e025c1b97a','flasdfja','fjlkjfdslk','kajflkadsjl','MALE','fadsf@oocl.com','3468732','423423',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100052,'test','5a690d842935c51f26f473e025c1b97a','test','test','test','MALE','test@gmail.com','test','45611564',0,'customer',0,0);
Insert into GROUP1.USERS (ID,USERNAME,PASSWORD,FIRSTNAME,MIDDLENAME,LASTNAME,GENDER,EMAIL,ADDRESS,CONTACTS,IS_DISABLED,TYPE,USER_LEVEL,POINTS) values (100081,'username2','5f4dcc3b5aa765d61d8327deb882cf99','firstname','middlename','lastname','MALE','sample@email.com','address','097777777',0,'customer',0,0);
--------------------------------------------------------
--  DDL for Index SYS_C007320
--------------------------------------------------------

  CREATE UNIQUE INDEX "GROUP1"."SYS_C007320" ON "GROUP1"."USERS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "WEEK5_PROJECT" ;
--------------------------------------------------------
--  DDL for Index SYS_C007321
--------------------------------------------------------

  CREATE UNIQUE INDEX "GROUP1"."SYS_C007321" ON "GROUP1"."USERS" ("USERNAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "WEEK5_PROJECT" ;
--------------------------------------------------------
--  Constraints for Table USERS
--------------------------------------------------------

  ALTER TABLE "GROUP1"."USERS" MODIFY ("POINTS" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."USERS" MODIFY ("CONTACTS" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."USERS" MODIFY ("USER_LEVEL" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."USERS" ADD CONSTRAINT "USER_NAME" UNIQUE ("USERNAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "WEEK5_PROJECT"  ENABLE;
  ALTER TABLE "GROUP1"."USERS" ADD CONSTRAINT "PK_USER_ID" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "WEEK5_PROJECT"  ENABLE;
  ALTER TABLE "GROUP1"."USERS" MODIFY ("TYPE" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."USERS" MODIFY ("IS_DISABLED" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."USERS" MODIFY ("ADDRESS" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."USERS" MODIFY ("EMAIL" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."USERS" MODIFY ("GENDER" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."USERS" MODIFY ("LASTNAME" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."USERS" MODIFY ("FIRSTNAME" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."USERS" MODIFY ("PASSWORD" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."USERS" MODIFY ("USERNAME" NOT NULL ENABLE);
  ALTER TABLE "GROUP1"."USERS" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  DDL for Trigger USER_ID_TRIG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "GROUP1"."USER_ID_TRIG" 
BEFORE INSERT ON USERS
FOR EACH ROW
BEGIN
IF :NEW.ID IS NULL THEN
SELECT USER_ID_SEQ.nextval INTO :NEW.ID FROM SYS.DUAL;
END IF;
END;
/
ALTER TRIGGER "GROUP1"."USER_ID_TRIG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger PASSWORD_NULL
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "GROUP1"."PASSWORD_NULL" 
BEFORE UPDATE OF PASSWORD ON USERS 
FOR EACH ROW
BEGIN
  IF :NEW.PASSWORD IS NULL THEN
    :NEW.PASSWORD := :OLD.PASSWORD;
  END IF;
END;
/
ALTER TRIGGER "GROUP1"."PASSWORD_NULL" ENABLE;
--------------------------------------------------------
--  DDL for Trigger UPDATE_LEVEL
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "GROUP1"."UPDATE_LEVEL" 
BEFORE UPDATE OF POINTS ON USERS 
FOR EACH ROW
BEGIN
  IF :NEW.POINTS != :OLD.POINTS THEN
    IF :NEW.POINTS >= 1000 THEN
      :NEW.USER_LEVEL := 3;
      
    ELSIF :NEW.POINTS >= 500 THEN
      :NEW.USER_LEVEL := 2;
      
    ELSIF :NEW.POINTS >= 100 THEN
      :NEW.USER_LEVEL := 1;
      
    ELSE
      :NEW.USER_LEVEL := 0;
    END IF;
  END IF;
END;
/
ALTER TRIGGER "GROUP1"."UPDATE_LEVEL" ENABLE;
