{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "HomePage",
        "mixins": [
            "{",
            "        GlobalUtil: 'com.oocl.mnlbc.GlobalMessage'",
            "",
            "}"
        ]
    },
    "name": "MyController",
    "designerId": "f79b1324-e313-43db-b83b-7825ec247cf6",
    "cn": [
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onLaunch",
                "implHandler": [
                    "        this.productStore = Ext.getStore('ProductStore');",
                    "        activeUserStore = Ext.create('BurgerQueen.store.ActiveUserStore');"
                ]
            },
            "name": "onLaunch",
            "designerId": "4b4fadae-7309-4a0c-a573-f3b50f7ec792"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "beveragesButton",
                "selector": "#beveragesButton"
            },
            "name": "beveragesButton",
            "designerId": "540e1326-999c-4938-96c3-80fe6eb1a155"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "chickensButton",
                "selector": "#chickensButton"
            },
            "name": "chickensButton",
            "designerId": "7291d9c0-77f5-488f-bb6f-e2fd63682a29"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "dessertsButton",
                "selector": "#dessertsButton"
            },
            "name": "dessertsButton",
            "designerId": "f68ebc0d-7525-4890-a455-ab910ba51ec1"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "loginButton",
                "selector": "#loginButton"
            },
            "name": "loginButton",
            "designerId": "fddeac48-db9d-4b87-986d-9cad64cd98e9"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "logoutButton",
                "selector": "#logoutButton"
            },
            "name": "logoutButton",
            "designerId": "c464b728-88a2-4631-bfaf-e42fe78eaa62"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "productGrid",
                "selector": "#ProductGrid"
            },
            "name": "productGrid",
            "designerId": "8cbed275-d09e-46f9-a51a-a551dc49df45"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "productViewWindow",
                "selector": "#ProductView"
            },
            "name": "productViewWindow",
            "designerId": "20490771-2a66-4034-aa41-b00812bc9f09"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "products",
                "selector": "#Products"
            },
            "name": "products",
            "designerId": "c937ad75-0e4a-4bc4-8ce9-b1757de2b996"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "userProfile",
                "selector": "#UserProfile"
            },
            "name": "userProfile",
            "designerId": "c2e8dfbf-f1be-4b65-b3b5-6b74e6342e27"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "sidesButton",
                "selector": "#sidesButton"
            },
            "name": "sidesButton",
            "designerId": "1456f09d-7cfd-4f76-ab5d-ef9e938dbbbe"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "trayButton",
                "selector": "#trayButton"
            },
            "name": "trayButton",
            "designerId": "de6de699-3b08-4746-ae0b-93fa660a2645"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "registerButton",
                "selector": "#registerButton"
            },
            "name": "registerButton",
            "designerId": "6ae1d086-ad19-4fc4-b83c-0a222edf3732"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "myProfileButton",
                "selector": "#myProfileButton"
            },
            "name": "myProfileButton",
            "designerId": "cfe07622-add7-41a2-8521-8fd836831bc8"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "usernameProfile",
                "selector": "#usernameProfile"
            },
            "name": "usernameProfile",
            "designerId": "e20042d7-719f-4d66-86b9-25301f735ba0"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "addressProfile",
                "selector": "#addressProfile"
            },
            "name": "addressProfile",
            "designerId": "29abfdb1-9e56-4f79-8488-dcccd6ea7aed"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "emailProfile",
                "selector": "#emailProfile"
            },
            "name": "emailProfile",
            "designerId": "acd327be-3f26-4561-a84f-160fc1958a19"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "contactNumProfile",
                "selector": "#contactnumProfile"
            },
            "name": "contactNumProfile",
            "designerId": "9489f37f-3e41-42f9-a331-0c100fa263a3"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "activeUsersCount",
                "selector": "#activeUsersCount"
            },
            "name": "activeUsersCount",
            "designerId": "de0387d8-7364-4e31-b3ee-6fa58d4e0016"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "transacHistoryGrid",
                "selector": "#TransacHistoryGrid"
            },
            "name": "transacHistoryGrid",
            "designerId": "42484e32-0bb0-47ff-abc1-96567f2ceb20"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "fullnameProfile",
                "selector": "#fullnameProfile"
            },
            "name": "fullnameProfile",
            "designerId": "c7f8c0fa-82f4-4f7b-9ba7-bcd8329aeef0"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "adminCommentsPanel",
                "selector": "#AdminCommentsPanel"
            },
            "name": "adminCommentsPanel",
            "designerId": "edaa070e-a0c3-4a0d-965f-1e8ba61e9990"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "adminProductsPanel",
                "selector": "#AdminProductsPanel"
            },
            "name": "adminProductsPanel",
            "designerId": "ce635263-23c7-4d59-a5b8-5fe79632454f"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "adminTransactionsPanel",
                "selector": "#AdminTransactionsPanel"
            },
            "name": "adminTransactionsPanel",
            "designerId": "77bcb664-aca5-4271-9b87-9270b93fb27f"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "adminUserPanel",
                "selector": "#AdminUserPanel"
            },
            "name": "adminUserPanel",
            "designerId": "faa3bb49-1d39-4b32-a0f3-86b36eea0519"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#loginButton",
                "designer|targetType": "MyButton5",
                "fn": "onLoginButtonClick",
                "implHandler": [
                    "        Ext.create('BurgerQueen.view.LoginWindow').show();",
                    "",
                    "",
                    "                ",
                    "            ",
                    "",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onLoginButtonClick",
            "designerId": "cdb6c0d0-e846-4302-81ba-e50c0ebc8e52"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#beveragesButton",
                "designer|targetType": "MyButton",
                "fn": "onBeveragesButtonClick",
                "implHandler": [
                    "",
                    "        var productStore = this.productStore;",
                    "        this.getProducts().show();",
                    "",
                    "this.getUserProfile().hide();",
                    "        productStore.clearFilter();",
                    "        productStore.filter('Category','Drinks');",
                    "",
                    "",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBeveragesButtonClick",
            "designerId": "03fb64f8-6bc8-4bae-82d1-4b7d5cb54be8"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#burgersButton",
                "designer|targetType": "MyButton1",
                "fn": "onBurgersButtonClick",
                "implHandler": [
                    "             var productStore = this.productStore;",
                    "this.getProducts().show();",
                    "",
                    "this.getUserProfile().hide();",
                    "                productStore.clearFilter();",
                    "                productStore.filter('Category','Burgers');"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBurgersButtonClick",
            "designerId": "03639403-681e-483c-b0df-440a006a7aed"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#chickensButton",
                "designer|targetType": "MyButton2",
                "fn": "onChickensButtonClick",
                "implHandler": [
                    "         var productStore = this.productStore;",
                    "this.getProducts().show();",
                    "",
                    "this.getUserProfile().hide();",
                    "                productStore.clearFilter();",
                    "                productStore.filter('Category','Chickens');"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onChickensButtonClick",
            "designerId": "8b3fe12a-fcde-4e89-964d-765c3845ac1c"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#dessertsButton",
                "designer|targetType": "MyButton3",
                "fn": "onDessertsButtonClick",
                "implHandler": [
                    "     var productStore = this.productStore;",
                    "this.getProducts().show();",
                    "",
                    "this.getUserProfile().hide();",
                    "                productStore.clearFilter();",
                    "                productStore.filter('Category','Desserts');"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onDessertsButtonClick",
            "designerId": "0eddcc51-de8f-4b42-8bf1-b027d149fada"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#ProductGrid",
                "designer|targetType": "MyGridPanel",
                "fn": "onProductGridItemDblClick",
                "implHandler": [
                    "         var productStore = this.productStore;",
                    "",
                    "        var productGrid = this.getProductGrid(),",
                    "            selectModel = productGrid.getSelectionModel(),",
                    "            selectedProduct = selectModel.getSelection()[0].data;",
                    "",
                    "        var productWin = Ext.create('BurgerQueen.view.ProductViewWindow',{selectedProduct: selectedProduct});",
                    "        productWin.show();",
                    "",
                    " Ext.Ajax.request({",
                    "        url : 'hasLogged',",
                    "        params : {",
                    "",
                    "        },",
                    "        scope : this,",
                    "        success : function(response) {",
                    "",
                    "            if(response.responseText === 'true'){",
                    "              Ext.getCmp('commentFoodForm').show();",
                    "            }",
                    "        }",
                    "        });"
                ],
                "name": "itemdblclick",
                "scope": "me"
            },
            "name": "onProductGridItemDblClick",
            "designerId": "37567bca-e84f-46c3-a92c-6a0e2c20f5f2"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#trayBtn",
                "designer|targetType": "MyButton16",
                "fn": "onTrayBtnClick",
                "implHandler": [
                    " Ext.create('BurgerQueen.view.TrayWindow').show();"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onTrayBtnClick",
            "designerId": "62e7350c-11d7-46ec-aa63-1d207fbbdf43"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#BurgerQueen",
                "designer|targetType": "MyPanel",
                "fn": "onBurgerQueenRender",
                "implHandler": [
                    "this.activeUserCounter();",
                    "",
                    "Ext.Ajax.request({",
                    "    url : 'getUserSession',",
                    "    params : {",
                    "",
                    "    },",
                    "    scope : this,",
                    "    success : function(response) {",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "           if(!Ext.isEmpty(data)){",
                    "",
                    "               currentLoginUser = data;",
                    "               this.displayForSessions();",
                    "           }",
                    "    }",
                    "});",
                    "",
                    "var store = Ext.getStore('ProductStore');",
                    "",
                    "Ext.Ajax.request({",
                    "    url : 'meal/getAllMeals',",
                    "    params : {",
                    "",
                    "    },",
                    "    scope : this,",
                    "    success : function(response) {",
                    "        var data = Ext.JSON.decode(response.responseText);",
                    "        Ext.each(data, function(record){",
                    "            var product = {",
                    "                Id:record.id,",
                    "                Code:record.code,",
                    "                Name:record.name,",
                    "                Description:record.description,",
                    "                Category:record.category,",
                    "                Price:record.price,",
                    "                Image:record.image,",
                    "                Points:record.points",
                    "            };",
                    "            store.add(product);",
                    "        });",
                    "    }",
                    "});",
                    "",
                    "",
                    "",
                    ""
                ],
                "name": "render",
                "scope": "me"
            },
            "name": "onBurgerQueenRender",
            "designerId": "71cd5b24-018b-45b6-8a32-fc449139a8f4"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#UserProfile",
                "designer|targetType": "UserProfile",
                "fn": "onUserProfileShow",
                "implHandler": [
                    "this.activeUserCounter();",
                    "if(Ext.isEmpty(currentLoginUser)){",
                    "    return;",
                    "}",
                    "",
                    "var firstName = currentLoginUser.firstname,",
                    "    middleName = currentLoginUser.middlename,",
                    "    lastName =currentLoginUser.lastname,",
                    "    fullName = lastName + ', ' + firstName + \" \" + middleName;",
                    "",
                    "this.getUsernameProfile().setValue(currentLoginUser.username);",
                    "this.getFullnameProfile().setValue(fullName);",
                    "this.getAddressProfile().setValue(currentLoginUser.address);",
                    "this.getEmailProfile().setValue(currentLoginUser.email);",
                    "this.getContactNumProfile().setValue(currentLoginUser.contactno);",
                    "Ext.getCmp('userLevel').setValue(currentLoginUser.userLevel);",
                    "",
                    "",
                    "",
                    "Ext.Ajax.request({",
                    "    url : 'order/getAllOrderByUserId/'+currentLoginUser.id,",
                    "    params : {",
                    "",
                    "    },",
                    "    scope : this,",
                    "",
                    "    success : function(response) {",
                    "",
                    "        var userTransactions = Ext.JSON.decode(response.responseText);",
                    "        var transactionStore = Ext.getStore('TransactionStore');",
                    "        transactionStore.removeAll();",
                    "        Ext.each(userTransactions,function(record){",
                    "            var transaction = {",
                    "                Id : record.id,",
                    "                UserId: record.userId,",
                    "                Status : record.status",
                    "            };",
                    "            transactionStore.add(transaction);",
                    "        });",
                    "    }",
                    "});"
                ],
                "name": "show",
                "scope": "me"
            },
            "name": "onUserProfileShow",
            "designerId": "3ec64ce3-f385-424e-8ebd-67d8cbccc5d7"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#showUsersWindow",
                "designer|targetType": "MyButton19",
                "fn": "onShowUsersWindowClick",
                "implHandler": [
                    "",
                    "Ext.create('BurgerQueen.view.ActiveUsersWindow').show();"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onShowUsersWindowClick",
            "designerId": "487642f3-a070-424b-b52e-c817fc57bf61"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#allCategoriesButton",
                "designer|targetType": "MyButton20",
                "fn": "onAllCategoriesButtonClick",
                "implHandler": [
                    "         var productStore = this.productStore;",
                    "this.getProducts().show();",
                    "this.getUserProfile().hide();",
                    "                productStore.clearFilter();"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onAllCategoriesButtonClick",
            "designerId": "b1482df6-148f-46d8-8dfd-167b8cd8f36b"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#sidesButton",
                "designer|targetType": "MyButton4",
                "fn": "onSidesButtonClick",
                "implHandler": [
                    "        var productStore = this.productStore;",
                    "this.getProducts().show();",
                    "this.getUserProfile().hide();",
                    "        productStore.clearFilter();",
                    "        productStore.filter('Category','Sides');",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onSidesButtonClick",
            "designerId": "d00331ad-a853-44a0-9d27-82ef9cea8cc6"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#logoutButton",
                "designer|targetType": "MyButton6",
                "fn": "onLogoutButtonClick",
                "implHandler": [
                    "",
                    "",
                    "Ext.Msg.confirm(\"Confirmation\", \"Are you sure you want to logout?\", function(btnText){",
                    "                    if(btnText === \"yes\"){",
                    "                        var trays = [];",
                    "",
                    "                         task.stop();",
                    "                        var store = Ext.getStore('TrayStore');",
                    "",
                    "                        store.each(function(record){",
                    "",
                    "                            var trayItem = {",
                    "                                id:0,",
                    "                                user:{",
                    "                                    id:currentLoginUser.id",
                    "                                },",
                    "                                meal:{",
                    "                                    id:record.data.Id",
                    "                                },",
                    "                                quantity:record.data.Quantity",
                    "                            };",
                    "                      trays.push(trayItem);",
                    "                     });",
                    "",
                    "                            this.addToTray(trays);",
                    "",
                    "                       Ext.getCmp('toolBarCustomer').show();",
                    "                       Ext.getCmp('toolBarAdmin').hide();",
                    "                        this.getUserProfile().hide();",
                    "                        this.getTrayButton().hide();",
                    "                        this.getRegisterButton().show();",
                    "                        this.getLoginButton().show();",
                    "                        this.getLogoutButton().hide();",
                    "                        this.getMyProfileButton().hide();",
                    "                        Ext.getCmp('AdminUserPanel').hide();",
                    "                        Ext.getCmp('AdminCommentsPanel').hide();",
                    "                        this.getProducts().show();",
                    "",
                    "                      Ext.Ajax.request({",
                    "                        url : 'logout',",
                    "                        params : {",
                    "",
                    "                        },",
                    "                        scope : this,",
                    "                        success : function(response) {",
                    "                            this.activeUserCounter();",
                    "                        }",
                    "                    });",
                    "",
                    "        Ext.getStore('TrayStore').removeAll();",
                    "                        Ext.getStore('TransactionStore').removeAll();",
                    "                        Ext.getStore('TransactionDetailsStore').removeAll();",
                    "                    }",
                    "                }, this);",
                    "",
                    "",
                    "",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onLogoutButtonClick",
            "designerId": "bc584912-e702-4861-ac68-3c7e42e62049"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#trayButton",
                "designer|targetType": "MyButton16",
                "fn": "onTrayButtonClick",
                "implHandler": [
                    " Ext.create('BurgerQueen.view.TrayWindow').show();"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onTrayButtonClick",
            "designerId": "c02b7ba4-3919-4c8e-a8d2-63888cbe1810"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#registerButton",
                "designer|targetType": "MyButton18",
                "fn": "onRegisterButtonClick",
                "implHandler": [
                    "       Ext.create('BurgerQueen.view.RegisterWindow').show();"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onRegisterButtonClick",
            "designerId": "51167536-f1bd-461c-a716-026039e1dbf3"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#myProfileButton",
                "designer|targetType": "MyButton17",
                "fn": "onMyProfileButtonClick",
                "implHandler": [
                    "        this.getProducts().hide();",
                    "        this.getUserProfile().show();",
                    "",
                    "        var userStore = Ext.getStore('UsersStore').getRange();",
                    "",
                    "        Ext.each(userStore, function(record){",
                    "            var userName = record.get('userName'),",
                    "                firstName = record.get('firstName'),",
                    "                middleName =  record.get('middleName'),",
                    "                lastName = record.get('lastName'),",
                    "                fullName = lastName + ', ' + firstName + \" \" + middleName,",
                    "                address = record.get('address'),",
                    "                email = record.get('email'),",
                    "                contactNum = record.get('contactNum');",
                    "",
                    "",
                    "            this.getUserNameField().setValue(userName);",
                    "            this.getFullNameField().setValue(fullName);",
                    "            this.getAddressField().setValue(address);",
                    "            this.getEmailField().setValue(email);",
                    "            this.getContactNumProfile().setValue(currentLoginUser.contact);",
                    "        });"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onMyProfileButtonClick",
            "designerId": "e5e04df5-d474-42de-86f3-022070ee99d5"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnProducts",
                "designer|targetType": "MyButton26",
                "fn": "onBtnProductsClick",
                "implHandler": [
                    "//     this.getProducts().hide();",
                    "    Ext.getCmp('AdminProductsPanel').show();",
                    "    this.getUserProfile().hide();",
                    "    this.getAdminCommentsPanel().hide();",
                    "    this.getAdminTransactionsPanel().hide();",
                    "    this.getAdminUserPanel().hide();",
                    "    //this.getAdminProductsPanel().show();",
                    "   ",
                    "console.log('Product');",
                    "",
                    "var store = Ext.getStore('ProductStore');",
                    "store.removeAll();",
                    "Ext.Ajax.request({",
                    "    url : 'meal/getAllMeals',",
                    "    params : {",
                    "",
                    "    },",
                    "    scope : this,",
                    "    success : function(response) {",
                    "        var data = Ext.JSON.decode(response.responseText);",
                    "        Ext.each(data, function(record){",
                    "            var product = {",
                    "                Id:record.id,",
                    "                Code:record.code,",
                    "                Name:record.name,",
                    "                Description:record.description,",
                    "                Category:record.category,",
                    "                Price:record.price,",
                    "                Image:record.image,",
                    "                Points:record.points",
                    "            };",
                    "            store.add(product);",
                    "        });",
                    "    }",
                    "});",
                    "",
                    "this.activeUserCounter();",
                    "",
                    "Ext.Ajax.request({",
                    "    url : 'getUserSession',",
                    "    params : {",
                    "",
                    "    },",
                    "    scope : this,",
                    "    success : function(response) {",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "           if(!Ext.isEmpty(data)){",
                    "",
                    "               currentLoginUser = data;",
                    "               this.displayForSessions();",
                    "           }",
                    "    }",
                    "});",
                    "",
                    "",
                    "        var userStore = Ext.getStore('UsersStore');",
                    "",
                    "        Ext.Ajax.request({",
                    "            url : 'user/getAllUsers',",
                    "            params : {",
                    "",
                    "            },",
                    "            scope : this,",
                    "            success : function(response) {",
                    "                var data = Ext.decode(response.responseText);",
                    "                Ext.each(data, function(record){",
                    "                    var users = {",
                    "                        id:record.id,",
                    "                        Username:record.username,",
                    "                        Password:record.password,",
                    "                        Firstname:record.firstname,",
                    "                        Middlename:record.middlename,",
                    "                        Lastname:record.lastname,",
                    "                        Gender:record.gender,",
                    "                        Email:record.email,",
                    "                        Address:record.address,",
                    "                        Contact:record.contactno,",
                    "                        Disabled:record.isDisabled,",
                    "                        Type:record.type,",
                    "                        Level:record.userLevel,",
                    "                        Points:record.points",
                    "",
                    "                    };",
                    "                    userStore.add(users);",
                    "                });",
                    "            }",
                    "        });",
                    "",
                    "",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtnProductsClick",
            "designerId": "c2656875-8c73-4e49-a961-5a8f566fba61"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnTransactions",
                "designer|targetType": "MyButton27",
                "fn": "onBtnTransactionsClick",
                "implHandler": [
                    "     this.getProducts().hide();",
                    "    this.getUserProfile().hide();",
                    "    this.getAdminCommentsPanel().hide();",
                    "    this.getAdminUserPanel().hide();",
                    "    this.getAdminProductsPanel().hide();",
                    "    this.getAdminTransactionsPanel().show();",
                    "console.log('Transaction');"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtnTransactionsClick",
            "designerId": "17ecd71c-4307-48e4-a24a-2b2623eb0249"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnComments",
                "designer|targetType": "MyButton28",
                "fn": "onBtnCommentsClick",
                "implHandler": [
                    "    this.getProducts().hide();",
                    "    this.getUserProfile().hide();",
                    "    this.getAdminUserPanel().hide();",
                    "    this.getAdminProductsPanel().hide();",
                    "    this.getAdminTransactionsPanel().hide();",
                    "    this.getAdminCommentsPanel().show();",
                    "",
                    "var store = Ext.getStore('CommentsStore');",
                    "store.removeAll();",
                    "",
                    "Ext.Ajax.request({",
                    "    url : 'http://localhost:' + window.location.port + '/mnlbcjms/viewMessage',",
                    "    params : {",
                    "",
                    "    },",
                    "    scope : this,",
                    "    success : function(response) {",
                    "        var data = Ext.JSON.decode(response.responseText);",
                    "        Ext.each(data, function(record){",
                    "            var username = record.username,",
                    "                message = record.message;",
                    "            var comment = {",
                    "                username: username,",
                    "                comments: message",
                    "            };",
                    "            store.add(comment);",
                    "        });",
                    "",
                    "    }",
                    "});"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtnCommentsClick",
            "designerId": "1bc04f6e-51fc-4043-bbc0-621202fc1bc5"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "trays"
                ],
                "fn": "addToTray",
                "implHandler": [
                    " Ext.Ajax.request({",
                    "                        url : 'tray/addTray',",
                    "                        params : {",
                    "                            'trays':Ext.JSON.encode(trays)",
                    "                        },",
                    "                        scope : this,",
                    "                        success : function(response) {",
                    "                            ",
                    "                        }",
                    "                    });"
                ]
            },
            "name": "addToTray",
            "designerId": "973c4191-dbaf-4409-95f5-54575adce776"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "showLoadingMessageMask",
                "implHandler": [
                    "                    if (!this.oLoadingMessageMask) {",
                    "                       this.oLoadingMessageMask = new Ext.LoadMask(Ext.getBody(), {",
                    "                          msg : \"Loading, please wait...\"",
                    "                       });",
                    "                    }",
                    "                    this.oLoadingMessageMask.show();"
                ]
            },
            "name": "showLoadingMessageMask",
            "designerId": "1d06a592-7207-4807-a23e-f1dc5826e99f"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "hideLoadingMessageMask",
                "implHandler": [
                    "",
                    "                    if (this.oLoadingMessageMask) {",
                    "                       this.oLoadingMessageMask.hide();",
                    "                    }"
                ]
            },
            "name": "hideLoadingMessageMask",
            "designerId": "37820377-df0d-4106-8238-68d7527ecd1b"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "activeUserCounter",
                "implHandler": [
                    "",
                    "",
                    "    Ext.Ajax.request({",
                    "            url : 'getLoggedUsers',",
                    "            params : {",
                    "",
                    "            },",
                    "            scope : this,",
                    "            success : function(response) {",
                    "                var data = Ext.decode(response.responseText);",
                    "                activeUsers = data;",
                    "                activeUser = true;",
                    "                var store = activeUserStore;",
                    "                store.removeAll();",
                    "               this.getActiveUsersCount().setValue(data.length);",
                    "                Ext.each(data, function(record){",
                    "                    store.add({username:record.username});",
                    "                });",
                    "",
                    "            }",
                    "        });"
                ]
            },
            "name": "activeUserCounter",
            "designerId": "b31fb7bd-6431-4673-be34-a3856e3da770"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "displayForSessions",
                "implHandler": [
                    "        this.getLoginButton().hide();",
                    "        this.getLogoutButton().show();",
                    "        this.getRegisterButton().hide();",
                    "        this.getMyProfileButton().show();",
                    "        this.getTrayButton().show();",
                    "        this.activeUserCounter();",
                    "        this.getMyProfileButton().show();",
                    "        this.getMyProfileButton().setText('Welcome, '+ currentLoginUser.username + '! |');",
                    "        this.getProducts().show();",
                    "",
                    "",
                    "",
                    "if(currentLoginUser.type ==='admin'){",
                    "             Ext.getCmp('toolBarCustomer').hide();",
                    "             Ext.getCmp('toolBarAdmin').show();",
                    "        }",
                    ""
                ]
            },
            "name": "displayForSessions",
            "designerId": "b6b79e3c-bccb-4ac9-a684-1a232308d849"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "userGrid",
                "selector": "#userGrid"
            },
            "name": "userGrid",
            "designerId": "da8c70c1-be60-43cd-8233-6751aa523b1e"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnAccept",
                "designer|targetType": "MyButton29",
                "fn": "onBtnAcceptClick",
                "implHandler": [
                    " var commentsStore = Ext.getStore('CommentsStore');",
                    "",
                    "        var commentsGrid = this.getCommentsGrid(),",
                    "            selectModel = commentsGrid.getSelectionModel(),",
                    "            selectedComments = selectModel.getSelection();",
                    "",
                    "",
                    "            if(!Ext.isEmpty(selectedComments)){",
                    "                var selectedUser = selectedComments[0].data.username,",
                    "                    selecteComment = selectedComments[0].data.comments;",
                    "",
                    "",
                    "                commentsStore.remove(selectedComments);",
                    "",
                    "",
                    "                Ext.Ajax.request({",
                    "            url : 'user/getUserByUserName/' + selectedUser,",
                    "            params : {",
                    "",
                    "            },",
                    "            scope : this,",
                    "            success : function(response) {",
                    "                var user = Ext.JSON.decode(response.responseText);",
                    "                user.points += 0.5;",
                    "",
                    "                Ext.Ajax.request({",
                    "                    url:'user/updateUser',",
                    "                    headers: { 'Content-Type': 'application/json',",
                    "                     'Accept': 'application/json'},",
                    "                     jsonData:user,",
                    "                    scope:this,",
                    "                    success : function(response) {",
                    "                        Ext.MessageBox.alert('Success','Points added to user');",
                    "                    }",
                    "                });",
                    "",
                    "            }",
                    "        });",
                    "",
                    "",
                    "            }else{",
                    "                Ext.MessageBox.alert('Error','Please select an item.');",
                    "",
                    "            }"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtnAcceptClick",
            "designerId": "1196720f-5e48-4514-b1d1-2399f2d421a6"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "commentsGrid",
                "selector": "#commentsGrid"
            },
            "name": "commentsGrid",
            "designerId": "96ab52b7-e298-4c4d-abce-07ddeca94025"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#profileOpenChangePasswordWindow",
                "designer|targetType": "MyButton33",
                "fn": "onProfileOpenChangePasswordWindowClick",
                "implHandler": [
                    "       Ext.create('BurgerQueen.view.ProfileChangePasswordWindow').show();"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onProfileOpenChangePasswordWindowClick",
            "designerId": "eb18714b-b08f-4b0c-aed4-25724cc81847"
        }
    ]
}